<!--recharge.wxml-->
<view class="container">
  <view class="header">
    <view class="header-title">💰 余额</view>
  </view>

  <view class="form-section">
    <!-- 美元金额输入 -->
    <view class="form-item">
      <view class="form-label">
        <text class="label-icon">💵</text>
        <text class="label-text">美元金额</text>
      </view>
      <view class="input-wrapper modern">
        <text class="currency-prefix">$</text>
        <input 
          type="digit"
          class="form-input"
          placeholder="请输入美元金额"
          value="{{usdAmount}}"
          bindinput="onUsdInput"
        />
      </view>
    </view>

    <!-- 预置金额选择 -->
    <view class="preset-amounts">
      <view class="preset-title">快速选择金额</view>
      <view class="preset-grid">
        <view 
          class="preset-item {{selectedPreset == 100 ? 'active' : ''}}" 
          data-amount="100"
          bindtap="selectPresetAmount"
        >
          <text class="preset-value">$100</text>
        </view>
        <view 
          class="preset-item {{selectedPreset == 300 ? 'active' : ''}}" 
          data-amount="300"
          bindtap="selectPresetAmount"
        >
          <text class="preset-value">$300</text>
        </view>
        <view 
          class="preset-item {{selectedPreset == 500 ? 'active' : ''}}" 
          data-amount="500"
          bindtap="selectPresetAmount"
        >
          <text class="preset-value">$500</text>
        </view>
        <view 
          class="preset-item {{selectedPreset == 1000 ? 'active' : ''}}" 
          data-amount="1000"
          bindtap="selectPresetAmount"
        >
          <text class="preset-value">$1000</text>
        </view>
      </view>
    </view>

    <!-- 人民币金额输入 -->
    <view class="form-item">
      <view class="form-label">
        <text class="label-icon">💴</text>
        <text class="label-text">人民币金额</text>
      </view>
      <view class="input-wrapper modern">
        <text class="currency-prefix">¥</text>
        <input 
          type="digit" 
          class="form-input"
          placeholder="请输入人民币金额"
          value="{{rmbAmount}}"
          bindinput="onRmbInput"
        />
      </view>
    </view>

    <!-- 汇率信息卡片 -->
    <view class="exchange-card" wx:if="{{exchangeRate > 0}}">
      <view class="exchange-header">
        <text class="exchange-icon">📊</text>
        <text class="exchange-title">实时汇率</text>
      </view>
      <view class="exchange-content">
        <text class="exchange-rate">1 USD = {{exchangeRate}} RMB</text>
        <text class="exchange-note">汇率仅供参考</text>
      </view>
    </view>


  </view>

  <!-- 底部提交区域 -->
  <view class="bottom-action">
    <view class="summary-card" wx:if="{{rmbAmount && usdAmount}}">
      <view class="summary-row">
        <text class="summary-label">充值金额：</text>
        <text class="summary-value usd">${{usdAmount}}</text>
      </view>
      <view class="summary-row">
        <text class="summary-label">支付金额：</text>
        <text class="summary-value rmb">¥{{rmbAmount}}</text>
      </view>
    </view>
    <button class="submit-btn modern" bindtap="submitRecharge" disabled="{{!canSubmit}}">
      <text class="btn-icon">💳</text>
      <text class="btn-text">确认记录</text>
    </button>
  </view>
</view>